(()=>{"use strict";var e={87:e=>{e.exports=window.wp.element},143:e=>{e.exports=window.wp.data},279:e=>{e.exports=window.wp.plugins},309:e=>{e.exports=window.wp.editPost},427:e=>{e.exports=window.wp.components},609:e=>{e.exports=window.React},723:e=>{e.exports=window.wp.i18n}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var d=t[n]={exports:{}};return e[n](d,d.exports,o),d.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n=o(609),r=o(279),d=o(309),l=o(427),a=o(87),p=o(143),s=o(723);(0,r.registerPlugin)("tldrwp-toggle",{render:()=>{const[e,t]=(0,a.useState)(!1),[o,r]=(0,a.useState)(null),i=(0,p.useSelect)(e=>e("core/editor").getCurrentPostId(),[]),w=(0,p.useSelect)(e=>e("core/editor").getEditedPostAttribute("meta")||{},[]),{editPost:c}=(0,p.useDispatch)("core/editor"),u=null!==o?o:!w._tldrwp_disabled;return console.log("TLDRWP Debug - Post ID:",i),console.log("TLDRWP Debug - Post Meta:",w),console.log("TLDRWP Debug - TLDR Disabled:",w._tldrwp_disabled),console.log("TLDRWP Debug - Local Value:",o),console.log("TLDRWP Debug - TLDR Enabled:",u),(0,n.createElement)(d.PluginDocumentSettingPanel,{name:"tldrwp-panel",title:(0,s.__)("TL;DR","tldrwp"),initialOpen:!1},(0,n.createElement)(l.ToggleControl,{label:(0,s.__)("Enable TL;DR","tldrwp"),checked:u,onChange:e=>{console.log("TLDRWP Debug - Toggle changed to:",e),t(!0),r(e);const o={...w,_tldrwp_disabled:!e};console.log("TLDRWP Debug - Updated Meta:",o),c({meta:o});const n=new FormData;n.append("action","tldrwp_save_meta"),n.append("post_id",i),n.append("tldr_disabled",!e),n.append("nonce",window.tldrwpEditor?window.tldrwpEditor.nonce:""),fetch(window.tldrwpEditor?window.tldrwpEditor.ajaxurl:"/wp-admin/admin-ajax.php",{method:"POST",body:n}).then(e=>e.json()).then(e=>{console.log("TLDRWP Debug - AJAX response:",e),t(!1)}).catch(e=>{console.error("TLDRWP Debug - AJAX error:",e),t(!1)})},disabled:e,help:(0,s.__)("Show the TL;DR button and functionality on the frontend for this post.","tldrwp")}))}})})();
//# sourceMappingURL=tldrwp-editor.js.map